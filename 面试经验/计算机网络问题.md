## 索引
1. [tcp和udp的区别](#tcp-和-udp-的区别)
2. [tcp的三次握手以及两边的状态转移过程](#说一下tcp的三次握手以及两边的状态转移过程)
3. [网络七层分别是什么](#网络七层分别是什么)
4. [负载均衡三种方式slbgslb和llb的区别](#负载均衡三种方式slbgslb和llb的区别)
### tcp 和 udp 的区别
1. 连接性质
+ TCP 是一种面向连接的协议。在数据传输之前，它需要建立连接，通过三次握手过程确保通信双方的同步和可靠连接。
+ UDP 是一种无连接的协议。它不建立连接，数据可以直接发送给接收方，没有建立和确认连接的过程。
2. 可靠性
+ TCP 提供可靠的服务。数据包按顺序发送，并通过确认和重传机制确保数据的正确传输。丢失的数据包会被重新发送。
+ UDP 提供不可靠的服务。数据包可能丢失或不按顺序到达，UDP不提供重传机制，也不保证数据的顺序。
3. 速度与效率
+ TCP 由于其建立连接、确认、窗口管理和重传机制，通常比UDP慢，但更可靠。
+ UDP 因为缺乏连接建立和维护过程，以及缺乏顺序和可靠性保证，所以在网络传输中更快，尤其适用于对速度要求高的应用。
4. 数据流控制
+ TCP 提供流控制和拥塞控制机制，能够根据网络条件调整数据发送的速率，避免网络拥堵。
+ UDP 没有流控制和拥塞控制，发送方的数据输出速率不受网络条件的限制。
5. 数据包结构
+ TCP 的数据包头部较大，至少20字节，包含众多控制信息，如序列号、确认号、数据偏移、控制标志等。
+ UDP 的头部小，仅8字节，包括源端口、目标端口、长度和校验和，因此传输开销小。
6. 用例
+ TCP 通常用于要求高可靠性的应用，如网页浏览、文件传输、电子邮件和数据库操作等。
+ UDP 通常用于流媒体应用（如视频会议和在线游戏）、实时应用或其他需要快速传输的场景。
7. 头部和端口
+ TCP 和 UDP 都使用端口号来标识发送和接收的应用程序。
8. 多播和广播
+ UDP 支持多播和广播发送，可以同时将消息发送给多个接收者。
+ TCP 不支持多播或广播。

总的来说，选择TCP还是UDP取决于应用程序对数据传输的具体要求。需要可靠性和顺序保证时选用TCP，而对速度和效率要求更高时则可能倾向于使用UDP。

### 说一下tcp的三次握手，以及两边的状态转移过程
TCP的三次握手过程
1. SYN：
+ 动作：客户端发送一个TCP段，其中SYN标志位设为1，选择一个初始的序列号x。
+ 目的：客户端试图建立连接，并通知服务端其初始序列号，用于同步。
+ 状态转移：客户端在发送SYN包后，状态从CLOSED转移到SYN_SENT。

2. SYN+ACK：
+ 动作：服务端收到SYN包后，发送一个响应，该响应中SYN和ACK都被设为1，确认号设为x+1（表示确认收到客户端的SYN），并为自己选择一个初始序列号y。
+ 目的：服务端确认客户端的SYN，并向客户端发送自己的序列号，用于同步。
+ 状态转移：服务端在发送SYN+ACK包后，状态从LISTEN转移到SYN_RECEIVED。

3. ACK：
+ 动作：客户端收到服务端的SYN+ACK包后，发送一个确认包，这个包的ACK标志位设为1，确认号为y+1。
+ 目的：客户端确认服务端的SYN。
+ 状态转移：客户端在发送ACK包后，状态从SYN_SENT转移到ESTABLISHED。服务端收到这个ACK包后，也将状态从SYN_RECEIVED转移到ESTABLISHED。
状态转移图示
这里是TCP三次握手中的状态转移图示：

```rust
客户端状态: CLOSED -> SYN_SENT -> ESTABLISHED
服务端状态: LISTEN -> SYN_RECEIVED -> ESTABLISHED
```

#### 为什么要三次握手
三次握手是必需的，因为它防止了过时的连接初始化请求突然被服务端接受，从而可能导致不一致的状态。此外，这种方法同步双方的序列号和确认号，确保了数据传输的可靠性和顺序性。

### 网络七层分别是什么
1. 物理层
+ 功能：处理与电信号直接相关的硬件设备和介质，如电缆、卡、头、中继器等。
+ 协议例子：RJ45、Copper、Fiber、IEEE 802.3（Ethernet物理层）、V.35。
2. 链路层（合并了OSI的物理层和数据链路层的功能）
+ 功能：类似于OSI的数据链路层。
+ 协议例子：Ethernet、ARP、RARP。
3. 网络层
+ 功能：处理数据包的路由选择和转发。
+ 协议例子：IP（Internet Protocol）、ICMP（Internet控制消息协议）、IGMP（Internet组管理协议）、OSPF（开放最短路径优先）、BGP（边界网关协议）。
4. 传输层
+ 功能：提供端到端的通信服务，处理数据分段和重组，提供可靠或不可靠的数据传输。
+ 协议例子：TCP（传输控制协议）、UDP（用户数据报协议）。
5. 应用层（合并了OSI的会话层、表示层和应用层的功能）
+ 功能：建立、管理和终止会话，会话可以被视为不同设备上的应用之间的对话。确保信息从一个系统流向另一个系统时被正确地读取，包括数据格式化、数据加密和压缩。为应用软件提供网络服务。
+ 协议例子：NetBIOS、SSH（安全外壳协议）、TLS（传输层安全）。 HTTP FTP

### 负载均衡三种方式SLB，GSLB和LLB的区别
SLB（Server Load Balancing），GSLB（Global Server Load Balancing）和 LLB（Local Load Balancing）是三种不同类型的负载均衡技术，它们在架构、作用范围和实现方式上有所不同。

1. SLB（Server Load Balancing）
定义：
SLB 是指在单个数据中心或局部区域内，对多台服务器进行负载均衡的技术。它通过将客户端请求分配到多台服务器上，来提高应用程序的可用性和性能。

作用：

提高可用性：当某台服务器发生故障时，SLB 可以将流量重定向到其他正常运行的服务器。
提升性能：通过均衡分配负载，避免单台服务器过载，从而提高整体系统的响应速度。
简化维护：可以在不中断服务的情况下进行服务器的维护和升级。
实现方法：

通过硬件负载均衡设备（如 F5、Citrix Netscaler）。
通过软件负载均衡解决方案（如 Nginx、HAProxy）。
2. GSLB（Global Server Load Balancing）
定义：
GSLB 是指跨多个地理位置的数据中心进行负载均衡的技术。它通过全球范围内分布的服务器群组来实现更广泛的负载均衡。

作用：

地理分布：通过将流量引导到地理位置上最接近的服务器，降低网络延迟，提升用户体验。
灾备容灾：在某个数据中心发生故障时，可以将流量重定向到其他地理位置的数据中心，确保服务的持续可用性。
流量管理：根据不同的数据中心的负载情况，动态调整流量分配，优化资源利用。
实现方法：

基于 DNS 的负载均衡（如 DNS 轮询）。
基于 Anycast 的负载均衡，通过多个数据中心发布相同的 IP 地址，路由流量到最近的服务器。
3. LLB（Local Load Balancing）
定义：
LLB 通常是指在本地网络（局域网）内进行负载均衡的技术。它类似于 SLB，但更侧重于在小规模或特定区域内进行负载分配。

作用：

局域网优化：在局域网内部进行负载均衡，优化本地网络资源的使用。
高效利用：通过均衡分配局域网内的请求，提升网络设备和服务器的利用率。
实现方法：

通过本地路由器和交换机的负载均衡功能。
通过软件负载均衡器（如 Nginx、HAProxy）在局域网内的应用。
主要区别
作用范围：

SLB：在单个数据中心或局部区域内实现负载均衡。
GSLB：在全球范围内跨多个数据中心进行负载均衡。
LLB：在本地网络或局域网内实现负载均衡。
应用场景：

SLB：用于提高单个数据中心内的应用程序性能和可用性。
GSLB：用于跨数据中心的流量管理和容灾备份。
LLB：用于优化局域网内部的资源分配。
技术实现：

SLB：可以通过硬件或软件负载均衡器实现。
GSLB：通常通过 DNS 轮询、Anycast 或专门的 GSLB 设备实现。
LLB：通过本地网络设备或软件负载均衡器实现。
总结
SLB、GSLB 和 LLB 都是重要的负载均衡技术，适用于不同的应用场景和需求。SLB 主要用于单个数据中心内的负载均衡，GSLB 用于全球范围内的数据中心间的负载均衡，LLB 则用于局域网内部的负载均衡。根据实际需求选择合适的负载均衡技术，可以有效提高系统的可用性、性能和可靠性。