## 索引

### tcp 和 udp 的区别
1. 连接性质
+ TCP 是一种面向连接的协议。在数据传输之前，它需要建立连接，通过三次握手过程确保通信双方的同步和可靠连接。
+ UDP 是一种无连接的协议。它不建立连接，数据可以直接发送给接收方，没有建立和确认连接的过程。
2. 可靠性
+ TCP 提供可靠的服务。数据包按顺序发送，并通过确认和重传机制确保数据的正确传输。丢失的数据包会被重新发送。
+ UDP 提供不可靠的服务。数据包可能丢失或不按顺序到达，UDP不提供重传机制，也不保证数据的顺序。
3. 速度与效率
+ TCP 由于其建立连接、确认、窗口管理和重传机制，通常比UDP慢，但更可靠。
+ UDP 因为缺乏连接建立和维护过程，以及缺乏顺序和可靠性保证，所以在网络传输中更快，尤其适用于对速度要求高的应用。
4. 数据流控制
+ TCP 提供流控制和拥塞控制机制，能够根据网络条件调整数据发送的速率，避免网络拥堵。
+ UDP 没有流控制和拥塞控制，发送方的数据输出速率不受网络条件的限制。
5. 数据包结构
+ TCP 的数据包头部较大，至少20字节，包含众多控制信息，如序列号、确认号、数据偏移、控制标志等。
+ UDP 的头部小，仅8字节，包括源端口、目标端口、长度和校验和，因此传输开销小。
6. 用例
+ TCP 通常用于要求高可靠性的应用，如网页浏览、文件传输、电子邮件和数据库操作等。
+ UDP 通常用于流媒体应用（如视频会议和在线游戏）、实时应用或其他需要快速传输的场景。
7. 头部和端口
+ TCP 和 UDP 都使用端口号来标识发送和接收的应用程序。
8. 多播和广播
+ UDP 支持多播和广播发送，可以同时将消息发送给多个接收者。
+ TCP 不支持多播或广播。

总的来说，选择TCP还是UDP取决于应用程序对数据传输的具体要求。需要可靠性和顺序保证时选用TCP，而对速度和效率要求更高时则可能倾向于使用UDP。

### 说一下tcp的三次握手，以及两边的状态转移过程
TCP的三次握手过程
1. SYN：
+ 动作：客户端发送一个TCP段，其中SYN标志位设为1，选择一个初始的序列号x。
+ 目的：客户端试图建立连接，并通知服务端其初始序列号，用于同步。
+ 状态转移：客户端在发送SYN包后，状态从CLOSED转移到SYN_SENT。

2. SYN+ACK：
+ 动作：服务端收到SYN包后，发送一个响应，该响应中SYN和ACK都被设为1，确认号设为x+1（表示确认收到客户端的SYN），并为自己选择一个初始序列号y。
+ 目的：服务端确认客户端的SYN，并向客户端发送自己的序列号，用于同步。
+ 状态转移：服务端在发送SYN+ACK包后，状态从LISTEN转移到SYN_RECEIVED。

3. ACK：
+ 动作：客户端收到服务端的SYN+ACK包后，发送一个确认包，这个包的ACK标志位设为1，确认号为y+1。
+ 目的：客户端确认服务端的SYN。
+ 状态转移：客户端在发送ACK包后，状态从SYN_SENT转移到ESTABLISHED。服务端收到这个ACK包后，也将状态从SYN_RECEIVED转移到ESTABLISHED。
状态转移图示
这里是TCP三次握手中的状态转移图示：

```rust
客户端状态: CLOSED -> SYN_SENT -> ESTABLISHED
服务端状态: LISTEN -> SYN_RECEIVED -> ESTABLISHED
```

#### 为什么要三次握手
三次握手是必需的，因为它防止了过时的连接初始化请求突然被服务端接受，从而可能导致不一致的状态。此外，这种方法同步双方的序列号和确认号，确保了数据传输的可靠性和顺序性。

### 